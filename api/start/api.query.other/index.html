<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="stylesheet" href="fonts/fonts.css"><title data-react-helmet="true">Query extras | polkadot{.js}</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Query extras | polkadot{.js}"><meta data-react-helmet="true" name="description" content="In previous sections we took a walk through queries, showing how to use one-shot queries, how to subscribe to results and how to combine multiple queries into one. This section will aim to extend that knowledge showing some other features and utilities that are available on the api.query interfaces."><meta data-react-helmet="true" property="og:description" content="In previous sections we took a walk through queries, showing how to use one-shot queries, how to subscribe to results and how to combine multiple queries into one. This section will aim to extend that knowledge showing some other features and utilities that are available on the api.query interfaces."><meta data-react-helmet="true" property="og:url" content="https://polkadot.js.org/docs/api/start/api.query.other"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://polkadot.js.org/docs/api/start/api.query.other"><link rel="stylesheet" href="/docs/styles.5cc6b0c0.css">
<link rel="preload" href="/docs/styles.2d0d11f0.js" as="script">
<link rel="preload" href="/docs/runtime~main.90bdee78.js" as="script">
<link rel="preload" href="/docs/main.e5e54110.js" as="script">
<link rel="preload" href="/docs/1.a1f0921d.js" as="script">
<link rel="preload" href="/docs/2.7569de93.js" as="script">
<link rel="preload" href="/docs/107.8f564fca.js" as="script">
<link rel="preload" href="/docs/935f2afb.1247ca9d.js" as="script">
<link rel="preload" href="/docs/17896441.ce33a7d3.js" as="script">
<link rel="preload" href="/docs/637d662b.22c3b204.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="polkadot{.js}"><strong class="navbar__title">polkadot{.js}</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Apps UI (Wallet)</a><a href="https://github.com/polkadot-js/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2_lZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_1NI3">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_1NI3">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="polkadot{.js}"><strong class="navbar__title">polkadot{.js}</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer" class="menu__link">Apps UI (Wallet)</a></li><li class="menu__list-item"><a href="https://github.com/polkadot-js/docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1BmH"><div class="docSidebarContainer_3DMU" role="complementary"><div class="sidebar_3sXx"><div class="menu menu--responsive menu_2n9V"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_3gxH" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Overview</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/basics">Basics &amp; Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/create">Create an instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.consts">Runtime constants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.query">State queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.rpc">RPC queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.query.subs">Query subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.query.multi">Multi queries</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/api/start/api.query.other">Query extras</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.tx">Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/keyring">Keyring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.tx.subs">Transaction subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/api.tx.wrap">Complex transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/types.basics">Type basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/types.extend">Extending types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/rpc.custom">Custom RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/types.create">Type creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/typescript">TypeScript interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/start/typescript.user">TypeScript user generated</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Cookbook</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook/blocks">Blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook/tx">Transactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise">ApiPromise Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/simple-connect">Simple Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/listen-to-blocks">Listen to new blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/listen-to-balance-change">Listen to balance changes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/unsubscribe">Unsubscribe from listening to updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/read-storage">Read storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/read-storage-at">Read storage, at a specific blockhash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/make-transfer">Make a simple transfer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/system-events">Traverse events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/transfer-events">Transfer events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/upgrade-chain">Chain upgrade</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/typegen">TS type generation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Substrate Metadata</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/rpc">JSON-RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/constants">Constants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/extrinsics">Extrinsics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/errors">Errors</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Keyring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/create">Create</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/ss58">ss58 Formats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/sign-verify">Sign &amp; Verify</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/suri">Substrate Uri</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Crypto Utilities</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/create-mnemonic">Create Mnemonic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/validate-address">Validate Address</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/encrypt-decrypt">Encrypt &amp; Decrypt Messages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/create-multisig">Generate a Multisig Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/verify-signature">Verify Signature</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contracts (API)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contracts">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/code">Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/blueprint">Blueprint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/contract">Contract</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Identicon (UI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/react">React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/react-native">React Native</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/vue">Vue</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Keyring (UI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/init">Initialization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/accounts">Accounts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/addresses">Addresses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/loading">Loading saved pairs</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Extension</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extension">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extension/usage">Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extension/cookbook">Cookbook</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2n1c"><div class="container padding-vert--lg docItemWrapper_262f"><div class="row"><div class="col docItemCol_1Cur"><div class="docItemContainer_3nIN"><article><header><h1 class="docTitle_Iv1f">Query extras</h1></header><div class="markdown"><p>In previous sections we took a walk through queries, showing how to use one-shot queries, how to subscribe to results and how to combine multiple queries into one. This section will aim to extend that knowledge showing some other features and utilities that are available on the <code>api.query</code> interfaces.</p><h2 id="state-at-a-specific-block">State at a specific block</h2><p>Quite often it is useful (taking pruning into account, more on this later) to retrieve the state at a specific block. For instance we may wish to retrieve the current balance as well as the balance at a previous block for a specific account -</p><pre><code class="language-js">...

// Retrieve the current block header
const lastHdr = await api.rpc.chain.getHeader();

// Retrieve the balance at both the current and the parent hashes
const [{ data: balanceNow }, { data: balancePrev }] = await Promise.all([
  api.query.system.account.at(lastHdr.hash, ADDR),
  api.query.system.account.at(lastHdr.parentHash, ADDR)
]);

// Display the difference
console.log(`The delta was ${balanceNow.free.sub(balancePrev.free)}`);
</code></pre><p>In the above example, we introduce the <code>.at(&lt;hash&gt;[, ...params]): Type</code> query. For all <code>.at</code> queries, the first parameter is always the block hash at which we want to make the query, in our example we use both the last retrieved block and the parent thereof. The params are optional as per the type of query made, for instance to retrieve the timestamp for a previous block, it would be -</p><pre><code class="language-js">...

// Retrieve the timestamp for the previous block
const momentPrev = await api.query.timestamp.now.at(lastHdr.parentHash);
</code></pre><p>The <code>.at</code> queries are all single-shot, i.e. there are no subscription option to these, since the state for a previous block should be static. (This is true to a certain extent, i.e. when blocks have been finalized).</p><p>An additional point to take care of (briefly mentioned above), is state pruning. By default a Polkadot/Substrate node will only keep state for the last 256 blocks, unless it is explicitly run in archive mode. This means that querying state further back than the pruning period will result in an error returned from the Node. (Generally most public RPC nodes only run with default settings, which includes aggressive state pruning)</p><h2 id="state-for-a-range-of-blocks">State for a range of blocks</h2><p>In addition to the <code>.at</code> queries, you can also query state starting at a specific historic block and up to either a specified or the latest blocks. This is done via the <code>.range([from, to?], &lt;...opt params&gt;): [Hash, Type][]</code> query. As an example -</p><pre><code class="language-js">...
// Retrieve the current block header
const lastHdr = await api.rpc.chain.getHeader();
const startHdr = await api.rpc.chain.getBlockHash(lastHdr.number.unwrap().subn(500));

// retrieve the range of changes
const changes = await api.query.system.account.range([startHdr]);

changes.forEach(([hash, value]) =&gt; {
  console.log(hash.toHex(), value.toHuman());
});
</code></pre><h2 id="map-keys--entries">Map keys &amp; entries</h2><p>When working maps and double-maps, it is possible to retrieve a list of all the keys and entries for the map. For this we can use the <code>.entries(&lt;args&gt;): [StorageKey, Type][]</code> queries. For example we may want to know the current list of validator exposures at a current era in the staking module -</p><pre><code class="language-js">...
// Retrieve the active era
const activeEra = await api.query.staking.activeEra();

// retrieve all exposures for the active era
const exposures = await api.query.staking.erasStakers.entries(activeEra.index);

exposures.forEach(([key, exposure]) =&gt; {
  console.log(&#x27;key arguments:&#x27;, key.args.map((k) =&gt; k.toHuman()));
  console.log(&#x27;     exposure:&#x27;, exposure.toHuman());
});
</code></pre><p>To understand the usage of the <code>key.args</code>, you need to understand that map/doublemap keys are stored alongside their lookups. This means that the raw key has hashed parts as well as the raw data. The API will decode the keys and provide the raw key arguments in args. This would mean -</p><ul><li>if we are querying <code>api.query.staking.validators(validatorId: AccountId)</code> via <code>entries</code>, the <code>key.args</code> would be <code>[AccountId]</code></li><li>if we are querying <code>api.query.staking.erasStakers(era: EraIndex, validatorId: AccountId)</code> via <code>entries</code>, the <code>key.args</code> would be <code>[EraIndex, AccountId]</code></li></ul><p>the same applies to <code>.keys()</code> - here the list of keys also have the decoded args, as specified. You can think of <code>.args</code> as a tuple with the same types as the types required to retrieve a single entry in the map.</p><p>In the first example we are querying a double-map, so we supply 1 argument. No arguments on double-maps will be very costly, retrieving all the eras and associated entries. In the same way as above we can simply do <code>.keys(activeEra.index): StorageKey[]</code> to retrieve all the keys here, including the individual keys args (available on maps with decodable hashing functions) -</p><pre><code class="language-js">// retrieve all the nominator keys
const keys = await api.query.staking.nominators.keys();

// extract the first key argument [AccountId] as string
const nominatorIds = keys.map(({ args: [nominatorId] }) =&gt; nominatorId);

console.log(&#x27;all nominators:&#x27;, nominatorIds.join(&#x27;, &#x27;));
</code></pre><h2 id="state-entries">State entries</h2><p>In addition to using <code>api.query</code> to make actual on-chain queries, it can also be used to retrieve some information on the state entries. For instance to retrieve both the hash and size of an existing entry, we can make the following calls -</p><pre><code class="language-js">...

// Retrieve the hash &amp; size of the entry as stored on-chain
const [entryHash, entrySize] = await Promise.all([
  api.query.system.account.hash(ADDR),
  api.query.system.account.size(ADDR)
]);

// Output the info
console.log(`The current size is ${entrySize} bytes with a hash of ${entryHash}`);
</code></pre><p>As per the previous examples, the params here apply explicitly to the actual needed values to identify an entry. As with <code>.at</code> queries, there are no subscription versions for these queries, rather they are seen as one-shot values at a specific point in time.</p><h2 id="entry-metadata">Entry metadata</h2><p>It has been explained that the <code>api.query</code> interfaces are decorated from the metadata. This also means that there is some information that we can gather from the entry, as decorated -</p><pre><code class="language-js">// Extract the info
const { meta, method, section } = api.query.system.account;

// Display some info on a specific entry
console.log(`${section}.${method}: ${meta.documentation.join(&#x27; &#x27;)}`);
console.log(`query key: ${api.query.system.account.key(ADDR)}`);
</code></pre><p>The <code>section</code> &amp; <code>method</code> is an indication of where it is exposed on the API. In addition the <code>meta</code> holds an array with the metadata documentation for the entry.</p><p>The <code>key</code> endpoint requires some explanation. In the chain state, the key values (identified by the module, method &amp; params) are hashed and this is used as a lookup. So underlying a single-shot query would utilize the <code>api.rpc.state.getStorage</code> entry, passing the output of <code>key</code> (which is a hashed representation of the values). Apart from the hashing, the API also takes care of type formatting, handling optional values and merging results across multiple subscriptions.</p><h2 id="lets-transact-already">Let&#x27;s transact already!</h2><p>At this point you are already burning to actually make some transactions. Making queries is cool, but just how do <a href="/docs/api/start/api.tx">you actually submit transactions on-chain</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/polkadot-js/docs/edit/master/docs/api/start/api.query.other.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/api/start/api.query.multi"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Multi queries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/api/start/api.tx"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Transactions Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_1hW_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#state-at-a-specific-block" class="table-of-contents__link">State at a specific block</a></li><li><a href="#state-for-a-range-of-blocks" class="table-of-contents__link">State for a range of blocks</a></li><li><a href="#map-keys--entries" class="table-of-contents__link">Map keys &amp; entries</a></li><li><a href="#state-entries" class="table-of-contents__link">State entries</a></li><li><a href="#entry-metadata" class="table-of-contents__link">Entry metadata</a></li><li><a href="#lets-transact-already" class="table-of-contents__link">Let&#39;s transact already!</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/docs/styles.2d0d11f0.js"></script>
<script src="/docs/runtime~main.90bdee78.js"></script>
<script src="/docs/main.e5e54110.js"></script>
<script src="/docs/1.a1f0921d.js"></script>
<script src="/docs/2.7569de93.js"></script>
<script src="/docs/107.8f564fca.js"></script>
<script src="/docs/935f2afb.1247ca9d.js"></script>
<script src="/docs/17896441.ce33a7d3.js"></script>
<script src="/docs/637d662b.22c3b204.js"></script>
</body>
</html>