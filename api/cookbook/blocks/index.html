<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Blocks | polkadot{.js}</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Blocks | polkadot{.js}"><meta data-react-helmet="true" name="description" content="The building blocks for each blockchain. As such there are a number of examples for working with blocks and headers, that could be useful."><meta data-react-helmet="true" property="og:description" content="The building blocks for each blockchain. As such there are a number of examples for working with blocks and headers, that could be useful."><meta data-react-helmet="true" property="og:url" content="https://polkadot.js.org/docs/api/cookbook/blocks"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://polkadot.js.org/docs/api/cookbook/blocks"><link rel="stylesheet" href="/docs/styles.c9937f88.css">
<link rel="preload" href="/docs/styles.5d1f7798.js" as="script">
<link rel="preload" href="/docs/runtime~main.544e6a25.js" as="script">
<link rel="preload" href="/docs/main.0d9d3386.js" as="script">
<link rel="preload" href="/docs/1.b3476059.js" as="script">
<link rel="preload" href="/docs/2.9cf2349a.js" as="script">
<link rel="preload" href="/docs/109.ba42eaff.js" as="script">
<link rel="preload" href="/docs/935f2afb.99fb5d59.js" as="script">
<link rel="preload" href="/docs/17896441.d86b3aa7.js" as="script">
<link rel="preload" href="/docs/7cf2b0e9.54a6b71e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="polkadot{.js}"><strong class="navbar__title">polkadot{.js}</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Apps UI (Wallet)</a><a href="https://github.com/polkadot-js/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2_lZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_1NI3">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_1NI3">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="polkadot{.js}"><strong class="navbar__title">polkadot{.js}</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer" class="menu__link">Apps UI (Wallet)</a></li><li class="menu__list-item"><a href="https://github.com/polkadot-js/docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1BmH"><div class="docSidebarContainer_3DMU" role="complementary"><div class="sidebar_3sXx"><div class="menu menu--responsive menu_2n9V"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_3gxH" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Overview</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/basics">Basics &amp; Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/create">Create an instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.consts">Runtime constants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query">State queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.rpc">RPC queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query.subs">Query subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query.multi">Multi queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query.other">Query extras</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.tx">Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/keyring">Keyring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.tx.subs">Transaction subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.tx.wrap">Complex transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/types.basics">Type basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/types.extend">Extending types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/rpc.custom">Custom RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/types.create">Type creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/typescript">TypeScript interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/typescript.user">TypeScript user generated</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Cookbook</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/cookbook">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/api/cookbook/blocks">Blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/cookbook/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/cookbook/tx">Transactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise">ApiPromise Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/simple-connect">Simple Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/listen-to-blocks">Listen to new blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/listen-to-balance-change">Listen to balance changes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/unsubscribe">Unsubscribe from listening to updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/read-storage">Read storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/read-storage-at">Read storage, at a specific blockhash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/make-transfer">Make a simple transfer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/system-events">Traverse events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/transfer-events">Transfer events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/upgrade-chain">Chain upgrade</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/typegen">TS type generation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Substrate Metadata</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/rpc">JSON-RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/constants">Constants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/extrinsics">Extrinsics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/errors">Errors</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Keyring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/create">Create</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/ss58">ss58 Formats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/sign-verify">Sign &amp; Verify</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/suri">Substrate Uri</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Crypto Utilities</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/create-mnemonic">Create Mnemonic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/validate-address">Validate Address</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/encrypt-decrypt">Encrypt &amp; Decrypt Messages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/create-multisig">Generate a Multisig Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/verify-signature">Verify Signature</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/hash-data">Hash Data</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contracts (API)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/code">Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/blueprint">Blueprint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/contract.read">Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/start/contract.tx">Contract Tx</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-contract/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Identicon (UI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/react">React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/react-native">React Native</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/vue">Vue</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Keyring (UI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/init">Initialization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/accounts">Accounts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/addresses">Addresses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/loading">Loading saved pairs</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Extension</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extension">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extension/usage">Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extension/cookbook">Cookbook</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2n1c"><div class="container padding-vert--lg docItemWrapper_262f"><div class="row"><div class="col docItemCol_1Cur"><div class="docItemContainer_3nIN"><article><header><h1 class="docTitle_Iv1f">Blocks</h1></header><div class="markdown"><p>The building blocks for each blockchain. As such there are a number of examples for working with blocks and headers, that could be useful.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3113" id="how-do-i-retrieve-the-headerextrinsic-hash-from-blocks"></a>How do I retrieve the header/extrinsic hash from blocks?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-do-i-retrieve-the-headerextrinsic-hash-from-blocks" title="Direct link to heading">#</a></h2><p>A block hash refers to the hash over the header, the extrinsic hash refers to the hash of the encoded extrinsic. Since all objects returned by the API implements the <code>.hash =&gt; Hash</code> getter, we can simply use this to view the actual hash.</p><div class="mdxCodeBlock_1rQ_"><div class="codeBlockContent_1ZMM"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_YF1c">Copy</button><div class="prism-code language-js codeBlock_1Hv1"><div class="codeBlockLines_emGU" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// returns Hash</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> blockHash </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">rpc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getBlockHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">blockNumber</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// returns SignedBlock</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> signedBlock </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">rpc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">blockHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the hash for the block, always via header (Hash -&gt; toHex()) - will be</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the same as blockHash above (also available on any header retrieved,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// subscription or once-off)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signedBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toHex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the hash for each extrinsic in the block</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">signedBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">extrinsics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">forEach</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">ex</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toHex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3113" id="how-do-i-extract-the-block-author"></a>How do I extract the block author?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-do-i-extract-the-block-author" title="Direct link to heading">#</a></h2><p>The block author is encoded inside the consensus logs for the block. To extract, you need to decode the log (which the API does do) and then map the index of the validator to the list of session validators. This extraction is however available on the api derive for new head subscriptions, which returns an extended header with the author populated (assuming that the digest logs are known).</p><div class="mdxCodeBlock_1rQ_"><div class="codeBlockContent_1ZMM"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_YF1c">Copy</button><div class="prism-code language-js codeBlock_1Hv1"><div class="codeBlockLines_emGU" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// subscribe to all new headers (with extended info)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">derive</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribeNewHeads</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">#</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">header</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">header</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">author</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>For a single header only, the derives also contain a <code>getHeader</code>, which once again returns a header extended with the author -</p><div class="mdxCodeBlock_1rQ_"><div class="codeBlockContent_1ZMM"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_YF1c">Copy</button><div class="prism-code language-js codeBlock_1Hv1"><div class="codeBlockLines_emGU" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// retrieve the last header (hash optional)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> header </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">derive</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">#</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">header</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">header</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">author</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3113" id="how-do-i-view-extrinsic-information"></a>How do I view extrinsic information?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-do-i-view-extrinsic-information" title="Direct link to heading">#</a></h2><p>The transactions are included in a signed block as part of the extrinsics - some of these will be unsigned and generated by the block author and some of these may be submitted from external sources and be signed. (Some palettes do use unsigned transactions, so signed/unsigned is not an indication of origin). To retrieve the block and display the transaction information, we can do the following -</p><div class="mdxCodeBlock_1rQ_"><div class="codeBlockContent_1ZMM"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_YF1c">Copy</button><div class="prism-code language-js codeBlock_1Hv1"><div class="codeBlockLines_emGU" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// no blockHash is specified, so we retrieve the latest</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> signedBlock </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">rpc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the information for each of the contained extrinsics</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">signedBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">extrinsics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">forEach</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">ex</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the extrinsics are decoded by the API, human-like view</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toHuman</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> isSigned</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> meta</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> method</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> method</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> section </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// explicit display of name, args &amp; documentation</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">section</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">.</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">method</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">args</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation function" style="color:rgb(130, 170, 255)">map</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string interpolation parameter">a</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token template-string interpolation"> a</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation function" style="color:rgb(130, 170, 255)">toString</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation function" style="color:rgb(130, 170, 255)">join</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string interpolation string" style="color:rgb(195, 232, 141)">&#x27;, &#x27;</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">)</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">documentation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\n&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// signer/nonce info</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isSigned</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">signer=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">ex</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">signer</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation function" style="color:rgb(130, 170, 255)">toString</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">, nonce=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">ex</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">nonce</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation function" style="color:rgb(130, 170, 255)">toString</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>In the above <code>.toHuman()</code> is used to format into a human-readable representation. You can inspect/extract specific fields from the decoded extrinsic as required, for instance <code>ex.method.section</code> would return the pallete that executed this transaction.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3113" id="how-do-i-map-extrinsics-to-their-events"></a>How do I map extrinsics to their events?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-do-i-map-extrinsics-to-their-events" title="Direct link to heading">#</a></h2><p>While the blocks contain the extrinsics, the system event storage will contain the events and the details needed to allow for a mapping between. For events the <code>phase</code> is an enum that would be <code>isApplyExtrinsic</code> with the index in the cases where it refers to an extrinsic in a block. This index maps through the order of the extrinsics as found.</p><p>To perform a mapping between the two, we need information from both sources.</p><div class="mdxCodeBlock_1rQ_"><div class="codeBlockContent_1ZMM"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_YF1c">Copy</button><div class="prism-code language-js codeBlock_1Hv1"><div class="codeBlockLines_emGU" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// no blockHash is specified, so we retrieve the latest</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> signedBlock </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">rpc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> allRecords </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">system</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">events</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">at</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signedBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// map between the extrinsics and events</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">signedBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">extrinsics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">forEach</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> method</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> method</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> section </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// filter the specific events based on the phase and then the</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// index of our extrinsic in the block</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> events </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> allRecords</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> phase </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      phase</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">isApplyExtrinsic</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      phase</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">asApplyExtrinsic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">eq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> event </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">event</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">section</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">.</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">event</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">method</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">section</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">.</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">method</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">:: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">events</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation function" style="color:rgb(130, 170, 255)">join</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string interpolation string" style="color:rgb(195, 232, 141)">&#x27;, &#x27;</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:rgb(137, 221, 255)">||</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:rgb(195, 232, 141)">&#x27;no events&#x27;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/polkadot-js/docs/edit/master/docs/api/cookbook/blocks.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/api/cookbook"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/api/cookbook/storage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Storage Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_1hW_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-do-i-retrieve-the-headerextrinsic-hash-from-blocks" class="table-of-contents__link">How do I retrieve the header/extrinsic hash from blocks?</a></li><li><a href="#how-do-i-extract-the-block-author" class="table-of-contents__link">How do I extract the block author?</a></li><li><a href="#how-do-i-view-extrinsic-information" class="table-of-contents__link">How do I view extrinsic information?</a></li><li><a href="#how-do-i-map-extrinsics-to-their-events" class="table-of-contents__link">How do I map extrinsics to their events?</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/docs/styles.5d1f7798.js"></script>
<script src="/docs/runtime~main.544e6a25.js"></script>
<script src="/docs/main.0d9d3386.js"></script>
<script src="/docs/1.b3476059.js"></script>
<script src="/docs/2.9cf2349a.js"></script>
<script src="/docs/109.ba42eaff.js"></script>
<script src="/docs/935f2afb.99fb5d59.js"></script>
<script src="/docs/17896441.d86b3aa7.js"></script>
<script src="/docs/7cf2b0e9.54a6b71e.js"></script>
</body>
</html>