<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Contract | polkadot{.js}</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Contract | polkadot{.js}"><meta data-react-helmet="true" name="description" content="The ContractPromise interface allows you to interact with a deployed contract. In the previous Blueprint example this instance was created via createContract. In general use, you can also create an instance via new, i.e. when you are attaching to an existing contract on-chain -"><meta data-react-helmet="true" property="og:description" content="The ContractPromise interface allows you to interact with a deployed contract. In the previous Blueprint example this instance was created via createContract. In general use, you can also create an instance via new, i.e. when you are attaching to an existing contract on-chain -"><meta data-react-helmet="true" property="og:url" content="https://polkadot.js.org/docs/api-contract/start/contract"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://polkadot.js.org/docs/api-contract/start/contract"><link rel="stylesheet" href="/docs/styles.7b56c4f6.css">
<link rel="preload" href="/docs/styles.13912566.js" as="script">
<link rel="preload" href="/docs/runtime~main.2adf199c.js" as="script">
<link rel="preload" href="/docs/main.1f693ebd.js" as="script">
<link rel="preload" href="/docs/1.60111196.js" as="script">
<link rel="preload" href="/docs/2.4f56880e.js" as="script">
<link rel="preload" href="/docs/3.52557edb.js" as="script">
<link rel="preload" href="/docs/1be78505.cdea03fc.js" as="script">
<link rel="preload" href="/docs/121.4c237f07.js" as="script">
<link rel="preload" href="/docs/935f2afb.fff5acdf.js" as="script">
<link rel="preload" href="/docs/17896441.cab05ba8.js" as="script">
<link rel="preload" href="/docs/6dd55ba3.50c3fef3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="polkadot{.js}"><strong class="navbar__title">polkadot{.js}</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Apps UI (Wallet)</a><a href="https://github.com/polkadot-js/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_3-f4"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_39aY">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_39aY">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="polkadot{.js}"><strong class="navbar__title">polkadot{.js}</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer" class="menu__link">Apps UI (Wallet)</a></li><li class="menu__list-item"><a href="https://github.com/polkadot-js/docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3p0w"><div class="docSidebarContainer_13nc" role="complementary"><div class="sidebar_3ThG"><div class="menu menu--responsive menu_2-mZ"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2HJM" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/basics">Basics &amp; Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/create">Create an instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.consts">Runtime constants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query">State queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.rpc">RPC queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query.subs">Query subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query.multi">Multi queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.query.other">Query extras</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.tx">Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/keyring">Keyring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.tx.subs">Transaction subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/api.tx.wrap">Complex transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/types.basics">Type basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/types.extend">Extending types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/rpc.custom">Custom RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/types.create">Type creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/typescript">TypeScript interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/start/typescript.user">TypeScript user generated</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Cookbook</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook/blocks">Blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/cookbook/tx">Transactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise">ApiPromise Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/simple-connect">Simple Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/listen-to-blocks">Listen to new blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/listen-to-balance-change">Listen to balance changes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/unsubscribe">Unsubscribe from listening to updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/read-storage">Read storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/read-storage-at">Read storage, at a specific blockhash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/make-transfer">Make a simple transfer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/system-events">Traverse events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/transfer-events">Transfer events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/upgrade-chain">Chain upgrade</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/examples/promise/typegen">TS type generation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Substrate Metadata</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/rpc">JSON-RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/constants">Constants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/extrinsics">Extrinsics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/substrate/errors">Errors</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Keyring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/create">Create</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/ss58">ss58 Formats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/sign-verify">Sign &amp; Verify</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/start/suri">Substrate Uri</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyring/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Crypto Utilities</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/create-mnemonic">Create Mnemonic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/validate-address">Validate Address</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/encrypt-decrypt">Encrypt &amp; Decrypt Messages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/examples/create-multisig">Generate a Multisig Account</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/util-crypto/FAQ">FAQ</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Contracts (API)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-contracts">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-contract/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-contract/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-contract/start/basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-contract/start/code">Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-contract/start/blueprint">Blueprint</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/api-contract/start/contract">Contract</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-contract/FAQ">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Identicon (UI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/react">React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/react-native">React Native</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-identicon/vue">Vue</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Keyring (UI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/init">Initialization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/accounts">Accounts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/addresses">Addresses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-keyring/start/loading">Loading saved pairs</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3Ot7"><div class="container padding-vert--lg docItemWrapper_m5-i"><div class="row"><div class="col docItemCol_3eN6"><div class="docItemContainer_2drR"><article><header><h1 class="docTitle_1Yrd">Contract</h1></header><div class="markdown"><p>The <code>ContractPromise</code> interface allows you to interact with a deployed contract. In the previous <a href="/docs/api-contract/start/blueprint">Blueprint example</a> this instance was created via <code>createContract</code>. In general use, you can also create an instance via <code>new</code>, i.e. when you are attaching to an existing contract on-chain -</p><div class="mdxCodeBlock_3Vzd"><div class="codeBlockContent_3Y9y"><button type="button" aria-label="Copy code to clipboard" class="copyButton_33j2">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_3tCW"><div class="codeBlockLines_1iKV" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token maybe-class-name">ContractPromise</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@polkadot/api-contract&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Attach to an existing contract with a known ABI and address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> contract </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ContractPromise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> abi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Read from the contract</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span></div></div></div></div></div><p>Either via a create above or via a call to <code>createContract</code> both instances are the same. The <code>Contract</code> provides a wrapper around the <code>Abi</code> and allows you to call either <code>read</code> or <code>exec</code> on a contract to interact with it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2tYa" id="reading-contract-values"></a>Reading contract values<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reading-contract-values" title="Direct link to heading">#</a></h2><p>In the <code>Blueprint</code> example we have instantiated an incrementer contract. In the following examples we will continue using it to read from and execute transactions into, since it is a well-known entity. To read a value from the contract, we can do the following -</p><div class="mdxCodeBlock_3Vzd"><div class="codeBlockContent_3Y9y"><button type="button" aria-label="Copy code to clipboard" class="copyButton_33j2">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_3tCW"><div class="codeBlockLines_1iKV" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Read from the contract via an RPC call</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// only useful on isPayable messages</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> gasLimit </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000000n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Perform the actual read (no params at the end, for the get message)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (We perform the send from an account address, it doesn&#x27;t get executed)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> contract</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">alicePair</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The actual result from RPC as `ContractExecResult`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toHuman</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// check if the call was successful</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">isSuccess</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// should output 123 as per our initial set (output here is an i32)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toHuman</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the amount of gas consumed (u64 value)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">asSuccess</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">gasConsumed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toHuman</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Call failed&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Underlying the above <code>.read</code> using the <code>.call</code> RPC on the contracts palette to retrieve the value. When executing it encodes the message using the selector and the input values to allow execution in the contract environment. This can be executed on any contract message, unlike the execution below it will only read state, not actually execute.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2tYa" id="sending-a-transaction"></a>Sending a transaction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sending-a-transaction" title="Direct link to heading">#</a></h2><p>In addition to using the <code>.read</code> on a contract, the <code>.exec</code> method is provides to send an actual encoded transaction to the contract. Expanding on our above example, we can now execute and then retrieve the subsequent value -</p><div class="mdxCodeBlock_3Vzd"><div class="codeBlockContent_3Y9y"><button type="button" aria-label="Copy code to clipboard" class="copyButton_33j2">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_3tCW"><div class="codeBlockLines_1iKV" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// We will use these values for the execution</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// only useful on isPayable messages</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> gasLimit </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000000n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> incValue </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Send the transaction, like elsewhere this is a normal submittable</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// extrinsic with the same rules as applied in the API</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> contract</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">exec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;inc&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> incValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">signAndSend</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">alicePair</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">isInBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;in a block&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">isFinalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;finalized&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>If we perform the same <code>.get</code> read on the value now, it would be <code>124</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2tYa" id="that-is-it-for-now"></a>That is it... for now<a aria-hidden="true" tabindex="-1" class="hash-link" href="#that-is-it-for-now" title="Direct link to heading">#</a></h2><p>This was a whirl-wind tour of what the API provides in terms of the <code>@polkadot/api-contract</code> interface. It is not perfect yet, we would like to expand it to allow for greater type-checking on the contracts (instead of read/exec wit messages), but hopefully in the current state it already enhances the way you can interact with contracts.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/polkadot-js/docs/edit/master/docs/api-contract/start/contract.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/api-contract/start/blueprint"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Blueprint</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/api-contract/FAQ"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3YYO"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reading-contract-values" class="table-of-contents__link">Reading contract values</a></li><li><a href="#sending-a-transaction" class="table-of-contents__link">Sending a transaction</a></li><li><a href="#that-is-it-for-now" class="table-of-contents__link">That is it... for now</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/docs/styles.13912566.js"></script>
<script src="/docs/runtime~main.2adf199c.js"></script>
<script src="/docs/main.1f693ebd.js"></script>
<script src="/docs/1.60111196.js"></script>
<script src="/docs/2.4f56880e.js"></script>
<script src="/docs/3.52557edb.js"></script>
<script src="/docs/1be78505.cdea03fc.js"></script>
<script src="/docs/121.4c237f07.js"></script>
<script src="/docs/935f2afb.fff5acdf.js"></script>
<script src="/docs/17896441.cab05ba8.js"></script>
<script src="/docs/6dd55ba3.50c3fef3.js"></script>
</body>
</html>